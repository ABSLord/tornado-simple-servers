<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>News</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {

            $("#submit").click(function () {
                var data = JSON.stringify({
                    'author': $('#authorInput').val(),
                    'text': $('#text').val()
                });
                console.log(data);
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    contentType: 'application/json',
                    url: "/main",
                    data: data,
                    success: function (msg) {
                        alert(msg['msg']);
                    },
                    error: function (err) {
                        alert("Failure");
                    }
                });
            });
        });

    </script>
</head>
<body>
<div class="row">
    <div class="col-md-6">
        <form id="mainForm" style="margin: 20px">
            <div class="form-group">
                <label for="authorInput">Author</label>
                <input type="text" class="form-control" id="authorInput">
            </div>
            <div class="form-group">
                <label for="text">Text</label>
                <textarea class="form-control" id="text" rows="3"></textarea>
            </div>
            <button id="submit" type="submit" class="btn btn-primary">Post</button>
        </form>
    </div>
</div>
</body>
</html>